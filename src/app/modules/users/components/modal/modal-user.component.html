<div
  class="flex items-center justify-center fixed left-0 bottom-0 w-full h-full bg-gradient-to-r from-teal-300 via-teal-500 to-teal-700"
>
  <div class="bg-white rounded-lg md:w-1/3">
    <div class="flex flex-col items-start p-4">
      <div class="flex items-center w-full mb-6">
        <div class="text-gray-900 font-medium text-lg">
          {{ action }} Usuario
        </div>
        <button
          type="button"
          class="ml-auto fill-current text-gray-700 w-6 h-6 cursor-pointer"
          aria-label="Close"
          (click)="activeModal.dismiss('Cross click')"
        >
          <span aria-hidden="true">
            <fa-icon [icon]="faTimesCircle"></fa-icon>
          </span>
        </button>
      </div>
      <hr />
      <div class="w-full">
        <form [formGroup]="modalForm">
          <div class="mb-4">
            <label class="hidden" for="name"> </label>
            <input
              class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
              type="text"
              placeholder="Nombre"
              formControlName="name"
            />
            <div
              *ngIf="checkErrors('name')"
              class="bg-red-100 border border-red-400 text-red-700 px-4 py-2 rounded relative"
            >
              <div *ngIf="modalForm.controls['name'].errors.required">
                El nombre es requerido
              </div>
            </div>
          </div>
          <div class="mb-4">
            <label class="hidden" for="lastName"></label>
            <input
              class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
              type="text"
              placeholder="Apellido"
              formControlName="lastName"
            />
            <div
              *ngIf="checkErrors('lastName')"
              class="bg-red-100 border border-red-400 text-red-700 px-4 py-2 rounded relative"
            >
              <div *ngIf="modalForm.controls['lastName'].errors.required">
                El apeliido es requerido
              </div>
            </div>
          </div>
          <div class="mb-4">
            <label class="hidden" for="documentNumber"></label>
            <input
              class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
              type="text"
              placeholder="Número de documento"
              formControlName="documentNumber"
            />
            <div
              *ngIf="checkErrors('documentNumber')"
              class="bg-red-100 border border-red-400 text-red-700 px-4 py-2 rounded relative"
            >
              <div *ngIf="modalForm.controls['documentNumber'].errors.required">
                El n&uacute;mero de documento es requerido
              </div>
            </div>
          </div>
          <div class="mb-4">
            <label class="hidden" for="password"></label>
            <input
              class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
              type="password"
              placeholder="Contraseña"
              formControlName="password"
            />
            <small *ngIf="user" class="text-gray-600">
              <i>(Si no desea cambiar la contrase&ntilde;a puede dejar el campo vac&iacute;o)</i>
            </small>
            <div
              *ngIf="checkErrors('password')"
              class="bg-red-100 border border-red-400 text-red-700 px-4 py-2 rounded relative"
            >
              <div *ngIf="modalForm.controls['password'].errors.required">
                La contrase&ntilde;a es requerida
              </div>
            </div>
          </div>
          <div class="mb-4">
            <label class="hidden" for="confirmPassword"></label>
            <input
              class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
              type="password"
              placeholder="Confirmar contraseña"
              formControlName="confirmPassword"
            />
            <div
              *ngIf="checkErrors('confirmPassword')"
              class="bg-red-100 border border-red-400 text-red-700 px-4 py-2 rounded relative"
            >
              <div
                *ngIf="modalForm.controls['confirmPassword'].errors.required"
              >
                Confirme la contrase&ntilde;a
              </div>
              <div
                *ngIf="
                  modalForm.controls['confirmPassword'].errors.MatchPassword
                "
              >
                Las contrase&ntilde;as no coinciden
              </div>
            </div>
          </div>
          <div class="mb-4">
            <label class="hidden" for="role"></label>
            <div class="relative" *ngIf="roles$ | async as roles">
              <select
                class="block appearance-none w-full bg-gray-200 border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
                formControlName="role"
              >
                <option [disabled]="true">Seleccione Rol</option>
                <option *ngFor="let role of roles" [value]="role.id">
                  {{ role.name.toUpperCase() }}
                </option>
              </select>
              <div
                class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"
              >
                <fa-icon class="fill-current h-4 w-4" [icon]="faChevronDown">
                </fa-icon>
              </div>
            </div>
            <div
              *ngIf="checkErrors('role')"
              class="bg-red-100 border border-red-400 text-red-700 px-4 py-2 rounded relative"
            >
              <div *ngIf="modalForm.controls['role'].errors.required">
                El rol es requerido
              </div>
            </div>
          </div>
        </form>
      </div>
      <hr />
      <div class="ml-auto">
        <button
          [class]="
            !modalForm.invalid
              ? 'bg-teal-500 hover:bg-teal-700 text-white font-bold py-2 px-4 rounded mr-3'
              : 'bg-teal-500 hover:bg-teal-700 text-white font-bold py-2 px-4 rounded mr-3 opacity-50 cursor-not-allowed'
          "
          (click)="save()"
        >
          Guardar
        </button>
        <button
          class="bg-transparent hover:bg-gray-500 text-teal-700 font-semibold hover:text-white py-2 px-4 border border-teal-500 hover:border-transparent rounded"
          aria-label="Close"
          (click)="activeModal.dismiss('Cross click')"
        >
          Cancelar
        </button>
      </div>
    </div>
  </div>
</div>
